<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Red Light Green Light - Beeps Only</title>
<style>
body { font-family: sans-serif; background: #111; color: #fff; display: flex; flex-direction: column; align-items: center; padding: 20px; }
.panel { background: #222; padding: 20px; border-radius: 12px; width: 360px; max-width: 90vw; box-shadow: 0 0 20px rgba(0,0,0,0.4); }
h1 { text-align: center; margin-top: 0; }
.lights { display: flex; justify-content: space-around; margin: 20px 0; }
.light { width: 80px; height: 80px; border-radius: 50%; background: #333; opacity: 0.3; transition: opacity 0.3s, background 0.3s; }
.light.red.active { background: red; opacity: 1; }
.light.green.active { background: limegreen; opacity: 1; }
button { width: 100%; padding: 12px; border-radius: 8px; border: none; background: #444; color: #fff; cursor: pointer; font-size: 16px; margin-top: 10px; }
button:hover { background: #555; }
#stopwatch { font-size: 1.2em; text-align: center; margin-top: 10px; }
#message { text-align: center; font-size: 1.1em; margin-top: 10px; min-height: 40px; }
</style>
</head>
<body>
<div class="panel">
<h1>Red Light Green Light</h1>

<p>Choose RED durations (seconds):</p>
<label><input type="checkbox" class="redDur" value="5" checked> 5s</label><br>
<label><input type="checkbox" class="redDur" value="10" checked> 10s</label><br>
<label><input type="checkbox" class="redDur" value="15" checked> 15s</label><br>
<label><input type="checkbox" class="redDur" value="20" checked> 20s</label><br>
<label><input type="checkbox" class="redDur" value="25" checked> 25s</label><br>
<label><input type="checkbox" class="redDur" value="30" checked> 30s</label><br>

<p style="margin-top:15px;">Choose GREEN durations (seconds):</p>
<label><input type="checkbox" class="greenDur" value="5" checked> 5s</label><br>
<label><input type="checkbox" class="greenDur" value="10" checked> 10s</label><br>
<label><input type="checkbox" class="greenDur" value="15" checked> 15s</label><br>
<label><input type="checkbox" class="greenDur" value="20" checked> 20s</label><br>
<label><input type="checkbox" class="greenDur" value="25" checked> 25s</label><br>
<label><input type="checkbox" class="greenDur" value="30" checked> 30s</label><br>

<div class="lights">
  <div id="red" class="light red"></div>
  <div id="green" class="light green"></div>
</div>

<div id="message"></div>
<div id="stopwatch">00:00</div>

<button id="startBtn">Start</button>
<button id="resetBtn">Reset</button>
</div>

<script>
const redMessages = [
  "No touching","Hands off","Don't you dare","Wipe that pre-cum","You're leaking","It's twitching","You're desperate","You can hump the air",
  "Stay still","Not yet","Freeze!","Control yourself","Nothing for you now","Hands in your lap","Resist it","Don't even think about it"
];

const greenMessages = [
  "Jerk it","Don't lose it","Don't lose control","Don't blow it","Don't stop moving","Up and down","Jerk jerk jerk","Faster, don't slow down",
  "Pump it","Squeeze, release, repeat","Ride it out","Keep it going","Work that dick","Stroke it nice","Keep teasing yourself","Harder, faster"
];

let currentPhase = null;
let timer = null;
let timeLeft = 0;
let stopwatchInterval = null;
let stopwatchTime = 0;

function pickDuration(phase) {
  const selector = phase === 'red' ? '.redDur:checked' : '.greenDur:checked';
  const checks = [...document.querySelectorAll(selector)].map(cb => Number(cb.value));
  if (!checks.length) return 5;
  return checks[Math.floor(Math.random() * checks.length)];
}

function pickMessage(phase) {
  const arr = phase === 'red' ? redMessages : greenMessages;
  return arr[Math.floor(Math.random() * arr.length)];
}

function playBeep(phase) {
  const ctx = new (window.AudioContext || window.webkitAudioContext)();
  const osc = ctx.createOscillator();
  const gain = ctx.createGain();
  osc.connect(gain).connect(ctx.destination);
  osc.type = "sine";
  osc.frequency.value = phase === 'red' ? 440 : 660;
  gain.gain.setValueAtTime(0.2, ctx.currentTime);
  osc.start();
  osc.stop(ctx.currentTime + 0.2);
}

function setPhase(phase) {
  currentPhase = phase;
  document.getElementById('red').classList.remove('active');
  document.getElementById('green').classList.remove('active');
  document.getElementById(phase).classList.add('active');
  const msg = pickMessage(phase);
  document.getElementById('message').textContent = msg;
  playBeep(phase);
  timeLeft = pickDuration(phase);
}

function nextPhase() {
  setPhase(currentPhase === 'red' ? 'green' : 'red');
}

function start() {
  if (!currentPhase) setPhase('red');
  if (timer) return;
  timer = setInterval(() => {
    timeLeft--;
    if (timeLeft <= 0) nextPhase();
  }, 1000);

  if (!stopwatchInterval) {
    stopwatchInterval = setInterval(() => {
      stopwatchTime++;
      const mins = String(Math.floor(stopwatchTime/60)).padStart(2,'0');
      const secs = String(stopwatchTime%60).padStart(2,'0');
      document.getElementById('stopwatch').textContent = `${mins}:${secs}`;
    }, 1000);
  }
}

function reset() {
  clearInterval(timer);
  timer = null;
  currentPhase = null;
  timeLeft = 0;
  document.getElementById('red').classList.remove('active');
  document.getElementById('green').classList.remove('active');
  document.getElementById('message').textContent = '';
  clearInterval(stopwatchInterval);
  stopwatchInterval = null;
  stopwatchTime = 0;
  document.getElementById('stopwatch').textContent = "00:00";
}

document.getElementById('startBtn').onclick = start;
document.getElementById('resetBtn').onclick = reset;
</script>
</body>
</html>
